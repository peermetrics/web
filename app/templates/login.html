{% extends "base.html" %}

{% block header %}
{% endblock %}

{% block content %}
<div class="main-container">
  <section class="space-sm">
    <div class="container">
      <div class="row mb-4">
        <div class="col text-center">
          <a href="/">
            <img class="logo" src="/static/img/logo-icon.png" alt="Peermetrics Logo" />
          </a>
          <h2 class="mt-4">Login to Peermetrics</h2>
        </div>
      </div>

      <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
          {% set messages = get_messages(request)|list %}
          {% for message in messages %}
            <div class="alert alert-{{ 'danger' if message.tags == 'error' else message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          {% endfor %}

          <div class="card">
            <div class="card-body">
              <form method="post" action="{{ url('login') }}">
                <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

                <div class="form-group">
                  <label for="username">Username</label>
                  <input
                    type="text"
                    class="form-control"
                    id="username"
                    name="username"
                    placeholder="Enter username"
                    autocomplete="username"
                    required
                    autofocus
                  />
                </div>

                <div class="form-group">
                  <label for="password">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    placeholder="Enter password"
                    autocomplete="current-password"
                    required
                  />
                </div>

                <button type="submit" class="btn btn-primary btn-block">Login</button>
              </form>
            </div>
          </div>

          <div class="text-center mt-2">
            <a href="/" class="card-link">
              <small>Back to Home</small>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock %}

{% block footer %}
{% endblock %}
